<?php

/*
Plugin Name: MyFlagsSiteVersionGuido (second YT chat-gpt-MyFlagsSiteVersionGuido)
Plugin URI: https://www.example.com/MyFlagsSiteVersionGuido
Description: A plugin to manipulate custom fields for two languages.
Version: 1.0
Author: Your Name
Author URI: https://www.example.com
*/
/*
# FIRST CODE GENERATION
# 005_generate_php_plugin_wordpress_flags_header.php
# Write in PHP, a Wordpress plugin with comments, named MyFlagsSiteVersionGuido. This Plugin MyFlagsSiteVersionGuido will add a new entry in the main administration menu in "Settings". The name of the entrance will be MyFlagsSiteVersionGuido. The purpose of this plugin is to manipulate a single custom fields for 2 languages (spanish, russian):  MyFlagsSiteVersionGuido_sp, MyFlagsSiteVersionGuido_ru. You can you write also tips for this field and general explanation at the beginning of the plugin page settings to explain how does the plugin work.

# Model: https://github.com/bflaven/PluginWordpressForFun/blob/master/johann_flags_header/johann_flags_header.php
*/

// Add entry in main administration menu
add_action('admin_menu', 'MyFlagsSiteVersionGuido_plugin_menu');

function MyFlagsSiteVersionGuido_plugin_menu() {
    add_options_page(
        'MyFlagsSiteVersionGuido Settings', 
        'MyFlagsSiteVersionGuido', 
        'manage_options', 
        'MyFlagsSiteVersionGuido', 
        'MyFlagsSiteVersionGuido_plugin_settings_page'
    );
}

// Display settings page
function MyFlagsSiteVersionGuido_plugin_settings_page() {
    if (!current_user_can('manage_options')) {
        wp_die(__('You do not have sufficient permissions to access this page.'));
    }
    ?>
    <div class="wrap">
        <h1><?php echo esc_html(get_admin_page_title()); ?></h1>
        <p><?php echo __('This plugin allows you to manipulate custom fields for two languages.'); ?></p>
        <form method="post" action="options.php">
            <?php settings_fields('MyFlagsSiteVersionGuido-settings-group'); ?>
            <?php do_settings_sections('MyFlagsSiteVersionGuido'); ?>
            <?php submit_button(); ?>
        </form>
    </div>
    <?php
}

// Add custom fields for each language
add_action('admin_init', 'MyFlagsSiteVersionGuido_plugin_settings');

function MyFlagsSiteVersionGuido_plugin_settings() {
    add_settings_section(
        'MyFlagsSiteVersionGuido-section',
        __('MyFlagsSiteVersionGuido Custom Fields'),
        'MyFlagsSiteVersionGuido_plugin_section_callback',
        'MyFlagsSiteVersionGuido'
    );

    add_settings_field(
        'MyFlagsSiteVersionGuido-sp',
        __('Spanish Field'),
        'MyFlagsSiteVersionGuido_sp_callback',
        'MyFlagsSiteVersionGuido',
        'MyFlagsSiteVersionGuido-section'
    );

    add_settings_field(
        'MyFlagsSiteVersionGuido-ru',
        __('Russian Field'),
        'MyFlagsSiteVersionGuido_ru_callback',
        'MyFlagsSiteVersionGuido',
        'MyFlagsSiteVersionGuido-section'
    );

    register_setting(
        'MyFlagsSiteVersionGuido-settings-group',
        'MyFlagsSiteVersionGuido_sp'
    );

    register_setting(
        'MyFlagsSiteVersionGuido-settings-group',
        'MyFlagsSiteVersionGuido_ru'
    );
}

// Display custom fields for each language
function MyFlagsSiteVersionGuido_plugin_section_callback() {
    echo '<p>' . __('Enter the text for each language below.') . '</p>';
}

function MyFlagsSiteVersionGuido_sp_callback() {
    $sp_value = get_option('MyFlagsSiteVersionGuido_sp');
    echo '<input type="text" name="MyFlagsSiteVersionGuido_sp" value="' . esc_attr($sp_value) . '" />';
}

function MyFlagsSiteVersionGuido_ru_callback() {
    $ru_value = get_option('MyFlagsSiteVersionGuido_ru');
    echo '<input type="text" name="MyFlagsSiteVersionGuido_ru" value="' . esc_attr($ru_value) . '" />';
}

?>
